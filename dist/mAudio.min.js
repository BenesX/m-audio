!function(o){var t={};function e(i){if(t[i])return t[i].exports;var n=t[i]={i:i,l:!1,exports:{}};return o[i].call(n.exports,n,n.exports,e),n.l=!0,n.exports}e.m=o,e.c=t,e.d=function(o,t,i){e.o(o,t)||Object.defineProperty(o,t,{enumerable:!0,get:i})},e.r=function(o){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(o,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(o,"__esModule",{value:!0})},e.t=function(o,t){if(1&t&&(o=e(o)),8&t)return o;if(4&t&&"object"==typeof o&&o&&o.__esModule)return o;var i=Object.create(null);if(e.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:o}),2&t&&"string"!=typeof o)for(var n in o)e.d(i,n,function(t){return o[t]}.bind(null,n));return i},e.n=function(o){var t=o&&o.__esModule?function(){return o.default}:function(){return o};return e.d(t,"a",t),t},e.o=function(o,t){return Object.prototype.hasOwnProperty.call(o,t)},e.p="",e(e.s=2)}([function(o,t,e){},function(o,t,e){},function(o,t,e){"use strict";e.r(t);function i(o,t){for(var e=0;e<t.length;e++){var i=t[e];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(o,i.key,i)}}var n=function(){function o(){var t,e,i,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(function(o,t){if(!(o instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),i=!0,(e="IS_TAPPED")in(t=this)?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,!n.container)throw new Error("'container' attribute for MAudio Plugin is required");if(!n.audioSrc)throw new Error("'audioSrc' attribute for MAudio Plugin is required");this._options=Object.assign({},{container:document.querySelector(n.container),audioSrc:n.audioSrc,bgColor:n.bgColor||"#f2f2f2"}),this.init()}var t,e,n;return t=o,(e=[{key:"init",value:function(){this.render(),this.bindEvent()}},{key:"getDom",value:function(o){return document.querySelector(o)}},{key:"transSecToMin",value:function(o){var t;return t=Math.floor(o/60),o=(o%=60).toFixed(0),(t=1==(t+="").length?"0"+t:t)+":"+(o=1==(o+="").length?"0"+o:o)}},{key:"toggleAudioPlay",value:function(o){this.domAudio.paused&&!o?(this.domAudio.play(),this.domPlayBtn.classList.add("icon-pause2"),this.domPlayBtn.classList.remove("icon-play3")):(this.domAudio.pause(),this.domPlayBtn.classList.remove("icon-pause2"),this.domPlayBtn.classList.add("icon-play3"))}},{key:"updateProgressbar",value:function(o){this.domProgressBar.style.width="".concat(o,"%")}},{key:"render",value:function(){this._options.container.innerHTML='\n    <audio class="auo__audio-ele"></audio>\n    <div class="auo">\n        <div class="auo__box">\n            <div class="auo__button auo__play-button icon-play3"></div> \n            <div class="auo__time-display">\n                <div class="auo__time-current">00:00</div>/\n                <div class="auo__time-total">00:00</div>\n            </div> \n            <div class="auo__progress">\n                <div class="auo__progress-mask"></div>\n                <div class="auo__progress-bar"></div>\n                \x3c!-- <div class="auo__progress-point"></div> --\x3e\n            </div>\n            <div class="auo__button auo__mute-button icon-volume-high">\n                \x3c!-- <div class="auo__volume-container">\n                    <div class="auo__volume-number">100</div>\n                    <div class="auo__volume">\n                        <div class="auo__volume-mask"></div>\n                        <div class="auo__volume-bar"></div>\n                    </div>\n                </div> --\x3e\n            </div>\n            \x3c!-- <button class="auo__button auo__more-button icon-volume-more"></button> --\x3e\n        </div>\n    </div>\n',this.domAudio=this.getDom(".auo__audio-ele"),this.domTotalTime=this.getDom(".auo__time-total"),this.domCurrentTime=this.getDom(".auo__time-current"),this.domPlayer=this.getDom(".auo"),this.domPlayBtn=this.getDom(".auo__play-button"),this.domProgressBar=this.getDom(".auo__progress-bar"),this.domProgressMask=this.getDom(".auo__progress-mask"),this.muteBtn=this.getDom(".auo__mute-button"),this.domAudio.src=this._options.audioSrc,this.getDom(".auo__box").style.backgroundColor=this._options.bgColor,this.progressMaskWidth=parseInt(getComputedStyle(this.domProgressMask).width),this.progressMaskLeft=this.domProgressMask.getBoundingClientRect().left}},{key:"toggleAudioSound",value:function(){var o=this.domAudio;o.volume?(o.volume=0,this.muteBtn.classList.remove("icon-volume-high"),this.muteBtn.classList.add("icon-volume-mute2")):(o.volume=1,this.muteBtn.classList.remove("icon-volume-mute2"),this.muteBtn.classList.add("icon-volume-high"))}},{key:"bindEvent",value:function(){var o=this;this.domPlayer.addEventListener("click",function(t){if(t.target===o.domPlayBtn)o.toggleAudioPlay();else if(t.target===o.domProgressMask){var e=t.offsetX/o.progressMaskWidth;o.domAudio.currentTime=e*o.domAudio.duration,o.updateProgressbar(100*e)}else t.target===o.muteBtn&&o.toggleAudioSound()},!1),this.domProgressMask.addEventListener("touchstart",function(){o.IS_TAPPED=!0}),this.domProgressMask.addEventListener("touchmove",function(t){var e=(t.touches[0].pageX-o.progressMaskLeft)/o.progressMaskWidth;o.updateProgressbar(100*e)}),this.domProgressMask.addEventListener("touchend",function(t){o.IS_TAPPED=!1;var e=(t.changedTouches[0].pageX-o.progressMaskLeft)/o.progressMaskWidth;o.domAudio.currentTime=e*o.domAudio.duration}),this.domAudio.addEventListener("loadeddata",function(){o.domTotalTime.textContent=o.transSecToMin(o.domAudio.duration)},!1),this.domAudio.addEventListener("timeupdate",function(){var t=o.domAudio,e=t.currentTime,i=t.duration;!o.IS_TAPPED&&o.updateProgressbar(e/i*100),o.domCurrentTime.textContent=o.transSecToMin(e)}),this.domAudio.addEventListener("ended",function(){toggleAudioPlay(!0)},!1)}},{key:"Verion",get:function(){return"1.0.0"}}])&&i(t.prototype,e),n&&i(t,n),o}();e(0),e(1),t.default=n;window.MAudio=n}]);